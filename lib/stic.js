const _0x4a7c7a=_0x3a54;(function(_0x62aa04,_0x39d028){const _0x4732b8=_0x3a54,_0x145055=_0x62aa04();while(!![]){try{const _0x392bde=parseInt(_0x4732b8(0x1ff))/0x1*(parseInt(_0x4732b8(0x1f6))/0x2)+parseInt(_0x4732b8(0x1e9))/0x3+-parseInt(_0x4732b8(0x205))/0x4*(parseInt(_0x4732b8(0x1f5))/0x5)+-parseInt(_0x4732b8(0x211))/0x6*(-parseInt(_0x4732b8(0x20d))/0x7)+-parseInt(_0x4732b8(0x1f2))/0x8+parseInt(_0x4732b8(0x204))/0x9+parseInt(_0x4732b8(0x212))/0xa*(-parseInt(_0x4732b8(0x1f9))/0xb);if(_0x392bde===_0x39d028)break;else _0x145055['push'](_0x145055['shift']());}catch(_0x2ee205){_0x145055['push'](_0x145055['shift']());}}}(_0x409a,0x22b04));function _0x3a54(_0x3c3f06,_0x259447){const _0x409a2d=_0x409a();return _0x3a54=function(_0x3a54a9,_0x37bd40){_0x3a54a9=_0x3a54a9-0x1e7;let _0x2b44f6=_0x409a2d[_0x3a54a9];return _0x2b44f6;},_0x3a54(_0x3c3f06,_0x259447);}const ffmpeg=require(_0x4a7c7a(0x210)),fs=require('fs'),WebP=require(_0x4a7c7a(0x1f7)),{getRandom}=require('./functions'),imageToWebp=_0x3eae95=>{const _0x102dac=_0x4a7c7a;var _0x2ae163=getRandom(_0x102dac(0x1f1));return new Promise((_0x45f339,_0x1f2b36)=>{const _0x1f4c50=_0x102dac;ffmpeg(_0x3eae95)['on'](_0x1f4c50(0x20e),_0x14a006=>{const _0x2af010=_0x1f4c50;fs[_0x2af010(0x201)](_0x3eae95),_0x1f2b36(_0x14a006);})['on'](_0x1f4c50(0x20b),async()=>{const _0x15b002=_0x1f4c50;fs[_0x15b002(0x201)](_0x3eae95),_0x45f339(fs[_0x15b002(0x1fb)](_0x2ae163)),fs['unlinkSync'](_0x2ae163);})['addOutputOptions']([_0x1f4c50(0x1f3),'libwebp',_0x1f4c50(0x1fc),'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse'])[_0x1f4c50(0x1eb)]('webp')[_0x1f4c50(0x1f0)](_0x2ae163);});},videoToWebp=_0x3000d6=>{const _0x2ca854=_0x4a7c7a;var _0x351a4c=getRandom(_0x2ca854(0x1f1));return new Promise((_0x42da89,_0xeeb13f)=>{const _0x21e5fa=_0x2ca854;ffmpeg(_0x3000d6)['on'](_0x21e5fa(0x20e),_0x4edfc5=>{const _0xed32f9=_0x21e5fa;fs[_0xed32f9(0x201)](_0x3000d6),_0xeeb13f(_0x4edfc5);})['on']('end',()=>{const _0x3d7e41=_0x21e5fa;fs[_0x3d7e41(0x201)](_0x3000d6),_0x42da89(fs['readFileSync'](_0x351a4c)),fs[_0x3d7e41(0x201)](_0x351a4c);})['addOutputOptions']([_0x21e5fa(0x1f3),_0x21e5fa(0x1ee),_0x21e5fa(0x1fc),_0x21e5fa(0x1ea),_0x21e5fa(0x202),'0',_0x21e5fa(0x1ef),_0x21e5fa(0x200),'-t',_0x21e5fa(0x1e7),_0x21e5fa(0x203),_0x21e5fa(0x20f),_0x21e5fa(0x1ed),'-vsync','0'])[_0x21e5fa(0x1eb)](_0x21e5fa(0x1f4))[_0x21e5fa(0x1f0)](_0x351a4c);});},writeExif=async(_0x50e7b3,_0x44bdb1)=>{const _0x2af4eb=_0x4a7c7a;var _0x26b4c0=getRandom(_0x2af4eb(0x1f1));return new Promise(async(_0x43731c,_0x437f3b)=>{const _0x2a03c4=_0x2af4eb;let _0x477399=new WebP[(_0x2a03c4(0x20c))]();var _0x3e82ff={'sticker-pack-id':_0x2a03c4(0x206),'sticker-pack-name':_0x44bdb1?_0x44bdb1['packname']:_0x2a03c4(0x20a),'sticker-pack-publisher':_0x44bdb1?_0x44bdb1[_0x2a03c4(0x209)]:'','emojis':['']},_0xe61b2d=Buffer[_0x2a03c4(0x1fa)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x29a7f9=Buffer[_0x2a03c4(0x1fa)](JSON[_0x2a03c4(0x1fd)](_0x3e82ff),_0x2a03c4(0x207)),_0x4f3f5c=Buffer[_0x2a03c4(0x208)]([_0xe61b2d,_0x29a7f9]);_0x4f3f5c[_0x2a03c4(0x1ec)](_0x29a7f9[_0x2a03c4(0x1f8)],0xe,0x4),await _0x477399[_0x2a03c4(0x1e8)](_0x50e7b3),_0x477399['exif']=_0x4f3f5c,await _0x477399['save'](_0x26b4c0),_0x43731c(fs[_0x2a03c4(0x1fb)](_0x26b4c0)),await fs['unlinkSync'](_0x26b4c0);});};module[_0x4a7c7a(0x1fe)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExif':writeExif};function _0x409a(){const _0x3229bb=['fluent-ffmpeg','12438KRMTXl','20VTwSjg','00:00:05','load','817272yCZgYU','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','toFormat','writeUIntLE','-an','libwebp','-ss','save','.webp','567104dyTTba','-vcodec','webp','5VYGeGG','1032otAhgl','node-webpmux','length','2927441bYtEeS','from','readFileSync','-vf','stringify','exports','489qBPdJa','00:00:00','unlinkSync','-loop','-preset','923778BxqBTd','614876eZCjpc','https://github.com/vihangayt0','utf-8','concat','author','Astro','end','Image','917WbOTyZ','error','default'];_0x409a=function(){return _0x3229bb;};return _0x409a();}
